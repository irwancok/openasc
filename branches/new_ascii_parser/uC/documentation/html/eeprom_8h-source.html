<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>uC: front_panel/eeprom.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>front_panel/eeprom.h</h1><a href="eeprom_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00008"></a>00008 <span class="comment">//    Copyright (C) 2008  Mikael Larsmark, SM2WMV</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//    This program is free software: you can redistribute it and/or modify</span>
<a name="l00011"></a>00011 <span class="comment">//    it under the terms of the GNU General Public License as published by</span>
<a name="l00012"></a>00012 <span class="comment">//    the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00013"></a>00013 <span class="comment">//    (at your option) any later version.</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//    This program is distributed in the hope that it will be useful,</span>
<a name="l00016"></a>00016 <span class="comment">//    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00017"></a>00017 <span class="comment">//    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00018"></a>00018 <span class="comment">//    GNU General Public License for more details.</span>
<a name="l00019"></a>00019 <span class="comment">//</span>
<a name="l00020"></a>00020 <span class="comment">//    You should have received a copy of the GNU General Public License</span>
<a name="l00021"></a>00021 <span class="comment">//    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef _EEPROM_H_</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define _EEPROM_H_</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include "board.h"</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="sequencer_8h.html" title="Sequencer.">sequencer.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "main.h"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="antenna__ctrl_8h.html" title="Antenna control functions.">antenna_ctrl.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="radio__interface_8h.html" title="Radio interface, such as PTT AMP, PTT Radio, CAT etc.">radio_interface.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="code" href="band__ctrl_8h.html" title="Band control functions.">band_ctrl.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include "<a class="code" href="sub__menu_8h.html" title="Antenna sub menu functions.">sub_menu.h</a>"</span>
<a name="l00033"></a>00033 
<a name="l00035"></a><a class="code" href="eeprom_8h.html#45905c69e584a6a7521d710a98cd3c3e">00035</a> <span class="preprocessor">#define EEPROM_STARTUP_BYTE_ADDR 0x01</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="structstruct__eeprom__table.html">00038</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00040"></a><a class="code" href="structstruct__eeprom__table.html#ff26dcb858a03ffd4db8ef07e917836d">00040</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> struct_size;
<a name="l00042"></a><a class="code" href="structstruct__eeprom__table.html#2e3d9b78f29f5abcfbeb155d03abd383">00042</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> antenna[9];
<a name="l00044"></a><a class="code" href="structstruct__eeprom__table.html#969c52f2bed0d41c06a2eba0d635858d">00044</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> band[9];
<a name="l00046"></a><a class="code" href="structstruct__eeprom__table.html#1fe1fa1b9fccd59ef755085c456e8f7c">00046</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="antenna__ctrl_8c.html#86724924c6a16cefec90295c5ff765b9" title="Contains the rx antenna information.">rx_antennas</a>;
<a name="l00047"></a>00047         
<a name="l00049"></a><a class="code" href="structstruct__eeprom__table.html#d4d17049af5cf3281f92993784dd8e75">00049</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="front__panel_2main_8c.html#45cdb6ee21b25826f1f46da72d13652f" title="Settings struct.">settings</a>;
<a name="l00051"></a><a class="code" href="structstruct__eeprom__table.html#50e038c99a033980ff476c2f4bde86cd">00051</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="radio__interface_8c.html#32636f8d328cb44fd568d4ff8ad26b19" title="Radio settings struct.">radio_settings</a>;
<a name="l00053"></a><a class="code" href="structstruct__eeprom__table.html#6830b27e207021e867f63bc91ccee980">00053</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structstruct__ptt.html" title="PTT Sequencer struct.">struct_ptt</a>;
<a name="l00054"></a>00054         
<a name="l00056"></a><a class="code" href="structstruct__eeprom__table.html#d64f6da74d774283ba4bc45d11b2afe7">00056</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> antenna1_sub_menu[9];
<a name="l00058"></a><a class="code" href="structstruct__eeprom__table.html#c03bc10420fc7ae1362d9cf3b4c8b0f2">00058</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> antenna2_sub_menu[9];
<a name="l00060"></a><a class="code" href="structstruct__eeprom__table.html#c82f9e7a98208b5901e450fff8912fac">00060</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> antenna3_sub_menu[9];
<a name="l00062"></a><a class="code" href="structstruct__eeprom__table.html#070a7b60d374a07d456e56915fc639e3">00062</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> antenna4_sub_menu[9];
<a name="l00063"></a>00063         
<a name="l00065"></a><a class="code" href="structstruct__eeprom__table.html#2fae10ea3cc4e90363a7cbb5ff067f85">00065</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rx_antenna_sub_menu[10];
<a name="l00066"></a>00066 
<a name="l00068"></a><a class="code" href="structstruct__eeprom__table.html#6faadb529c3c80352df777053fccda57">00068</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="front__panel_2main_8h.html#74a522f526f7b89b1db24714c80ecdcf" title="Contains settings which will be saved and restored each time the box is turned on/off...">runtime_settings</a>;
<a name="l00069"></a>00069 } <a class="code" href="structstruct__eeprom__table.html" title="The EEPROM table.">struct_eeprom_table</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="eeprom_8c.html#9a969c3f2bc3c4a3c78c11ce406b4d15">eeprom_read_startup_byte</a>(<span class="keywordtype">void</span>);
<a name="l00072"></a>00072 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#d28f62443e97f4dc8bb5da886532d406" title="This function will write a byte in the EEPROM so we can keep track of if the unit...">eeprom_write_startup_byte</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> val);
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">//void eeprom_load_band(struct_band *ptr,unsigned char band);</span>
<a name="l00075"></a>00075 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#9b3f50751bd13ae358d6f6e1516c97b1" title="Read the map of the EEPROM.">eeprom_read_table</a>(<span class="keywordtype">void</span>);
<a name="l00076"></a>00076 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#fdf6b4f32618f74a72a10dfa15ba95f9" title="Creates the eeprom table which is a map over the eeprom data.">eeprom_create_table</a>(<span class="keywordtype">void</span>);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#e6fff39ba757b9764c196a0622c2a18d" title="Save the runtime_settings structure to the eeprom.">eeprom_save_runtime_settings</a>(<a class="code" href="structstruct__runtime__settings.html" title="Settings like status but which should be saved into the EEPROM.">struct_runtime_settings</a> *content);
<a name="l00079"></a>00079 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#65fca81181258a171926419c9d8cdd09" title="Get the runtime_settings structure from the EEPROM.">eeprom_get_runtime_settings</a>(<a class="code" href="structstruct__runtime__settings.html" title="Settings like status but which should be saved into the EEPROM.">struct_runtime_settings</a> *data);
<a name="l00080"></a>00080 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#0b78120d991f6d5aeff7988b93f443e0" title="Get the struct_sub_menu_array structure from the EEPROM.">eeprom_get_ant_sub_menu_array_structure</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band_index, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ant_index, <a class="code" href="structstruct__sub__menu__array.html" title="Struct of a sub menu with the type array.">struct_sub_menu_array</a> *data);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#0e660144c3c99013daacaa76a31f0ad9" title="Returns the antenna struct for a specific band.">eeprom_get_antenna_data</a>(<a class="code" href="structstruct__antenna.html" title="Structure of an antenna.">struct_antenna</a> *data, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band);
<a name="l00083"></a>00083 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#6ec03600842aca7894be5d5e541552b6" title="Returns the band data.">eeprom_get_band_data</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band, <a class="code" href="structstruct__band.html" title="Struct of band data.">struct_band</a> *data);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#1a16336e64981c88fed8ab3855ecd4e4" title="Get the ptt structure from the EEPROM.">eeprom_get_ptt_data</a>(<a class="code" href="structstruct__ptt.html" title="PTT Sequencer struct.">struct_ptt</a> *data);
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#dafedc1c464fc858f76bc18a5713c184" title="Save the antenna structure to the eeprom.">eeprom_save_ant_structure</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band_index, <a class="code" href="structstruct__antenna.html" title="Structure of an antenna.">struct_antenna</a> *content);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#317147be4ae0385bea0883aa83497e07" title="get the radio settings from the eeprom">eeprom_get_radio_settings_structure</a>(<a class="code" href="structstruct__radio__settings.html" title="Radio settings struct.">struct_radio_settings</a> *data);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#32589eb14b15b42f3c7c1d0dbc4278da" title="Returns the rx antenna data.">eeprom_get_rx_antenna_data</a>(<a class="code" href="structstruct__rx__antennas.html" title="Struct which contains information of the rx antennas.">struct_rx_antennas</a> *data);
<a name="l00092"></a>00092 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#055a52add142f4ef2d04ab5300136f4e" title="Save the rx antenna structure to the eeprom.">eeprom_save_rx_ant_structure</a>(<a class="code" href="structstruct__rx__antennas.html" title="Struct which contains information of the rx antennas.">struct_rx_antennas</a> *data);
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#b943872b90370fbb808bf2f6933f0b1e" title="Save the radio settings to the eeprom.">eeprom_save_radio_settings_structure</a>(<a class="code" href="structstruct__radio__settings.html" title="Radio settings struct.">struct_radio_settings</a> *data);
<a name="l00095"></a>00095 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#64e5d1bd12072950491e44547610bd97" title="Save the band data to the eeprom.">eeprom_save_band_data</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band, <a class="code" href="structstruct__band.html" title="Struct of band data.">struct_band</a> *data);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#d24920972859f48cd9446f50986e1ee1" title="get the settings from the eeprom">eeprom_get_settings_structure</a>(<a class="code" href="structstruct__setting.html" title="Settings struct.">struct_setting</a> *data);
<a name="l00098"></a>00098 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#1d9de145325f4507c363219ec79bdab0" title="Save the device settings to the eeprom.">eeprom_save_settings_structure</a>(<a class="code" href="structstruct__setting.html" title="Settings struct.">struct_setting</a> *data);
<a name="l00099"></a>00099 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#2c96a61dec288a4385e46df909c370ab" title="Save the band data to the eeprom.">eeprom_save_ptt_data</a>(<a class="code" href="structstruct__ptt.html" title="PTT Sequencer struct.">struct_ptt</a> *data);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="keywordtype">void</span> <a class="code" href="eeprom_8c.html#f39ecd57ed4a610641ab16023bab3375" title="Save the sub menu array data to the EEPROM.">eeprom_save_ant_sub_menu_array_structure</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> band_index, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ant_index, <a class="code" href="structstruct__sub__menu__array.html" title="Struct of a sub menu with the type array.">struct_sub_menu_array</a> *data);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 19 20:56:57 2010 for uC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
