\hypertarget{motherboard_2computer__interface_8h}{
\section{motherboard/computer\_\-interface.h File Reference}
\label{motherboard_2computer__interface_8h}\index{motherboard/computer\_\-interface.h@{motherboard/computer\_\-interface.h}}
}
Interface towards the computer.  


\subsection*{Functions}
\begin{CompactItemize}
\item 
\hypertarget{motherboard_2computer__interface_8h_2daa9000653d78a4e7ec343234048b9e}{
void \hyperlink{motherboard_2computer__interface_8h_2daa9000653d78a4e7ec343234048b9e}{computer\_\-interface\_\-init} (void)}
\label{motherboard_2computer__interface_8h_2daa9000653d78a4e7ec343234048b9e}

\begin{CompactList}\small\item\em Initialize the communication interface towards the computer. Will initialize buffers etc. \item\end{CompactList}\item 
\hypertarget{motherboard_2computer__interface_8h_4df89fd1efe2e5b7ec86f054d5833370}{
void \hyperlink{motherboard_2computer__interface_8h_4df89fd1efe2e5b7ec86f054d5833370}{computer\_\-interface\_\-send\_\-data} (void)}
\label{motherboard_2computer__interface_8h_4df89fd1efe2e5b7ec86f054d5833370}

\begin{CompactList}\small\item\em Function which will send data from the tx\_\-buffer to the uart. \item\end{CompactList}\item 
void \hyperlink{motherboard_2computer__interface_8h_02eb4c158dd37c93a92a27804bf90e43}{computer\_\-interface\_\-parse\_\-data} (void)
\begin{CompactList}\small\item\em Function which will parse the data in the rx\_\-buffer and process the command. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
Interface towards the computer. 

\begin{Desc}
\item[Author:]Mikael Larsmark, SM2WMV \end{Desc}
\begin{Desc}
\item[Date:]2010-01-25 

\begin{Code}\begin{verbatim} #include "computer_interface.h" 
\end{verbatim}
\end{Code}

 \end{Desc}


Definition in file \hyperlink{motherboard_2computer__interface_8h-source}{computer\_\-interface.h}.

\subsection{Function Documentation}
\hypertarget{motherboard_2computer__interface_8h_02eb4c158dd37c93a92a27804bf90e43}{
\index{motherboard/computer\_\-interface.h@{motherboard/computer\_\-interface.h}!computer\_\-interface\_\-parse\_\-data@{computer\_\-interface\_\-parse\_\-data}}
\index{computer\_\-interface\_\-parse\_\-data@{computer\_\-interface\_\-parse\_\-data}!motherboard/computer_interface.h@{motherboard/computer\_\-interface.h}}
\subsubsection[{computer\_\-interface\_\-parse\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}void computer\_\-interface\_\-parse\_\-data (void)}}
\label{motherboard_2computer__interface_8h_02eb4c158dd37c93a92a27804bf90e43}


Function which will parse the data in the rx\_\-buffer and process the command. 



Bit 0 = Footswitch Bit 1 = Radio sense lower floor Bit 2 = Radio sense upper floor Bit 3 = Computer RTS Bit 4 = Inverted radio sense Bit 5 = Inverted Computer RTS Bit 6 = Inhibit polarity (0=active low, 1=active high)

unsigned char ptt\_\-input;

Bit 0 = Footswitch Bit 1 = Radio sense lower floor Bit 2 = Radio sense upper floor Bit 3 = Computer RTS Bit 4 = Inverted radio sense Bit 5 = Inverted Computer RTS Bit 6 = Inhibit polarity (0=active low, 1=active high)

unsigned char ptt\_\-input;

Definition at line 304 of file computer\_\-interface.c.

References struct\_\-ptt\_\-sequencer::active, struct\_\-ptt\_\-sequencer::amp\_\-post\_\-delay, struct\_\-ptt\_\-sequencer::amp\_\-pre\_\-delay, struct\_\-antenna::antenna\_\-comb\_\-allowed, struct\_\-antenna::antenna\_\-comb\_\-output\_\-str, struct\_\-antenna::antenna\_\-flag, struct\_\-antenna::antenna\_\-output\_\-length, struct\_\-antenna::antenna\_\-text, struct\_\-antenna::antenna\_\-text\_\-length, struct\_\-ptt\_\-sequencer::antennas\_\-post\_\-delay, struct\_\-band::band\_\-high\_\-output\_\-str, struct\_\-band::band\_\-high\_\-output\_\-str\_\-length, struct\_\-band::band\_\-low\_\-output\_\-str, struct\_\-band::band\_\-low\_\-output\_\-str\_\-length, struct\_\-rx\_\-antennas::band\_\-output\_\-length, struct\_\-rx\_\-antennas::band\_\-output\_\-str, struct\_\-radio\_\-settings::baudrate, bootloader\_\-start, struct\_\-radio\_\-settings::cat\_\-enabled, struct\_\-radio\_\-settings::civ\_\-addr, computer\_\-comm\_\-struct::command, struct\_\-ptt::computer, COMPUTER\_\-COMM\_\-ENTER\_\-BOOTLOADER, COMPUTER\_\-COMM\_\-FLAG\_\-DATA\_\-IN\_\-RX\_\-BUF, computer\_\-interface\_\-deactivate\_\-setup(), computer\_\-interface\_\-send(), computer\_\-interface\_\-send\_\-ack(), computer\_\-interface\_\-send\_\-nack(), CTRL\_\-CREATE\_\-EEPROM\_\-TABLE, CTRL\_\-DONE, CTRL\_\-GET\_\-FIRMWARE\_\-REV, CTRL\_\-REBOOT, CTRL\_\-SET\_\-ANT\_\-DATA, CTRL\_\-SET\_\-ANT\_\-DATA\_\-ANT\_\-FLAGS, CTRL\_\-SET\_\-ANT\_\-DATA\_\-ANT\_\-OUT\_\-STR, CTRL\_\-SET\_\-ANT\_\-DATA\_\-COMB\_\-ALLOWED, CTRL\_\-SET\_\-ANT\_\-DATA\_\-SAVE, CTRL\_\-SET\_\-ANT\_\-DATA\_\-SUB\_\-MENU\_\-TYPE, CTRL\_\-SET\_\-ANT\_\-DATA\_\-TEXT, CTRL\_\-SET\_\-ANT\_\-DEFAULT\_\-INDEX, CTRL\_\-SET\_\-ANT\_\-ROTATOR\_\-DATA, CTRL\_\-SET\_\-ANT\_\-SUB\_\-MENU\_\-DATA, CTRL\_\-SET\_\-ANT\_\-SUB\_\-MENU\_\-OUTPUT\_\-STR, CTRL\_\-SET\_\-ANT\_\-SUB\_\-MENU\_\-TEXT, CTRL\_\-SET\_\-BAND\_\-DATA, CTRL\_\-SET\_\-BAND\_\-DATA\_\-HIGH\_\-OUT\_\-STR, CTRL\_\-SET\_\-BAND\_\-DATA\_\-LIMITS, CTRL\_\-SET\_\-BAND\_\-DATA\_\-LOW\_\-OUT\_\-STR, CTRL\_\-SET\_\-BAND\_\-DATA\_\-SAVE, CTRL\_\-SET\_\-DEVICE\_\-SETTINGS, CTRL\_\-SET\_\-DEVICE\_\-SETTINGS\_\-EXT\_\-INPUTS, CTRL\_\-SET\_\-DEVICE\_\-SETTINGS\_\-NETWORK, CTRL\_\-SET\_\-DEVICE\_\-SETTINGS\_\-OTHER, CTRL\_\-SET\_\-DEVICE\_\-SETTINGS\_\-SAVE, CTRL\_\-SET\_\-POWERMETER\_\-SETTINGS, CTRL\_\-SET\_\-RADIO\_\-SETTINGS, CTRL\_\-SET\_\-RADIO\_\-SETTINGS\_\-ALL, CTRL\_\-SET\_\-RADIO\_\-SETTINGS\_\-SAVE, CTRL\_\-SET\_\-RX\_\-ANT\_\-DATA, CTRL\_\-SET\_\-RX\_\-ANT\_\-DATA\_\-ANT\_\-OUT\_\-STR, CTRL\_\-SET\_\-RX\_\-ANT\_\-DATA\_\-BAND\_\-OUT\_\-STR, CTRL\_\-SET\_\-RX\_\-ANT\_\-DATA\_\-SAVE, CTRL\_\-SET\_\-RX\_\-ANT\_\-DATA\_\-TEXT, CTRL\_\-SET\_\-SEQUENCER\_\-COMPUTER, CTRL\_\-SET\_\-SEQUENCER\_\-FOOTSWITCH, CTRL\_\-SET\_\-SEQUENCER\_\-RADIO\_\-SENSE, CTRL\_\-SET\_\-SEQUENCER\_\-SAVE, CTRL\_\-SET\_\-SEQUENCER\_\-SETTINGS, CTRL\_\-SET\_\-TIME, struct\_\-antenna::default\_\-antenna, struct\_\-sub\_\-menu\_\-array::direction\_\-count, struct\_\-sub\_\-menu\_\-array::direction\_\-name, ds1307\_\-set\_\-time(), eeprom\_\-create\_\-table(), eeprom\_\-save\_\-ant\_\-structure(), eeprom\_\-save\_\-ant\_\-sub\_\-menu\_\-array\_\-structure(), eeprom\_\-save\_\-band\_\-data(), eeprom\_\-save\_\-ptt\_\-data(), eeprom\_\-save\_\-radio\_\-settings\_\-structure(), eeprom\_\-save\_\-rx\_\-ant\_\-structure(), eeprom\_\-save\_\-settings\_\-structure(), struct\_\-setting::ext\_\-key\_\-assignments, FIRMWARE\_\-REV, computer\_\-comm\_\-struct::flags, struct\_\-ptt::footswitch, struct\_\-band::high\_\-portion\_\-high\_\-limit, struct\_\-band::high\_\-portion\_\-low\_\-limit, struct\_\-ptt\_\-sequencer::inhibit\_\-post\_\-delay, struct\_\-ptt\_\-sequencer::inhibit\_\-pre\_\-delay, INT\_\-COMM\_\-PC\_\-CTRL, INT\_\-COMM\_\-REDIRECT\_\-DATA, struct\_\-radio\_\-settings::interface\_\-type, internal\_\-comm\_\-add\_\-tx\_\-message(), computer\_\-comm\_\-struct::length, struct\_\-band::low\_\-portion\_\-high\_\-limit, struct\_\-band::low\_\-portion\_\-low\_\-limit, struct\_\-rx\_\-antennas::name, struct\_\-rx\_\-antennas::name\_\-length, struct\_\-setting::network\_\-address, struct\_\-setting::network\_\-device\_\-count, struct\_\-setting::network\_\-device\_\-is\_\-master, struct\_\-rx\_\-antennas::output\_\-length, struct\_\-rx\_\-antennas::output\_\-str, struct\_\-sub\_\-menu\_\-array::output\_\-str\_\-dir, struct\_\-sub\_\-menu\_\-array::output\_\-str\_\-dir\_\-length, struct\_\-radio\_\-settings::poll\_\-interval, struct\_\-setting::powermeter\_\-address, struct\_\-setting::powermeter\_\-update\_\-rate\_\-bargraph, struct\_\-setting::powermeter\_\-update\_\-rate\_\-text, struct\_\-setting::powermeter\_\-vswr\_\-limit, struct\_\-ptt::ptt\_\-input, struct\_\-radio\_\-settings::ptt\_\-input, struct\_\-setting::ptt\_\-interlock\_\-input, struct\_\-radio\_\-settings::radio\_\-model, struct\_\-ptt\_\-sequencer::radio\_\-post\_\-delay, struct\_\-ptt\_\-sequencer::radio\_\-pre\_\-delay, struct\_\-ptt::radio\_\-sense, struct\_\-antenna::rotator\_\-addr, struct\_\-antenna::rotator\_\-delay, struct\_\-antenna::rotator\_\-max\_\-rotation, struct\_\-antenna::rotator\_\-min\_\-heading, struct\_\-antenna::rotator\_\-sub\_\-addr, struct\_\-antenna::rotator\_\-view\_\-360\_\-deg, computer\_\-comm\_\-struct::rx\_\-buffer, computer\_\-comm\_\-struct::rx\_\-buffer\_\-start, struct\_\-radio\_\-settings::stopbits, struct\_\-antenna::sub\_\-menu\_\-type, SUBMENU\_\-STACK, and SUBMENU\_\-VERT\_\-ARRAY.

Referenced by main().