<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>uC: front_panel/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>front_panel/main.c File Reference</h1>Main file of the front panel.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;avr/io.h&gt;</code><br>
<code>#include &lt;avr/interrupt.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;avr/wdt.h&gt;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2main_8h-source.html">main.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2board_8h-source.html">board.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2usart_8h-source.html">usart.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2init_8h-source.html">init.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="display_8h-source.html">display.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="glcd_8h-source.html">glcd.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ks0108_8h-source.html">ks0108.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2led__control_8h-source.html">led_control.h</a>&quot;</code><br>
<code>#include &quot;../delay.h&quot;</code><br>
<code>#include &quot;<a class="el" href="i2c_8h-source.html">../i2c.h</a>&quot;</code><br>
<code>#include &quot;../global.h&quot;</code><br>
<code>#include &quot;<a class="el" href="event__queue_8h-source.html">../event_queue.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="interrupt__handler_8h-source.html">interrupt_handler.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="eeprom_8h-source.html">eeprom.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ds1307_8h-source.html">ds1307.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="front__panel_2computer__interface_8h-source.html">computer_interface.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="antenna__ctrl_8h-source.html">antenna_ctrl.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="eeprom__m24_8h-source.html">eeprom_m24.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="radio__interface_8h-source.html">radio_interface.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="menu_8h-source.html">menu.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rotary__encoder_8h-source.html">rotary_encoder.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="event__handler_8h-source.html">event_handler.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="powermeter_8h-source.html">powermeter.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bus_8h-source.html">../wmv_bus/bus.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bus__ping_8h-source.html">../wmv_bus/bus_ping.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bus__rx__queue_8h-source.html">../wmv_bus/bus_rx_queue.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bus__tx__queue_8h-source.html">../wmv_bus/bus_tx_queue.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bus__commands_8h-source.html">../wmv_bus/bus_commands.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="internal__comm_8h-source.html">../internal_comm.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="internal__comm__commands_8h-source.html">../internal_comm_commands.h</a>&quot;</code><br>

<p>
<a href="front__panel_2main_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="377a7390dced5545ba617c922da8e416"></a><!-- doxytag: member="front_panel/main.c::clear_screensaver_timer" ref="377a7390dced5545ba617c922da8e416" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#377a7390dced5545ba617c922da8e416">clear_screensaver_timer</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the screensaver timer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f496e941a90c0dab928b545c26d30dcc">event_add_message</a> (void(*func), unsigned int offset, unsigned char id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f3d6009270cd4a03b5dda580d73bed64">ext_key_get_assignment</a> (unsigned char index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f857f2bd1ba4cb025156687b9cf13b18">ext_key_set_assignment</a> (unsigned char index, unsigned char func)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2b7f1dd7db9356c199b9db7cb9934b71"></a><!-- doxytag: member="front_panel/main.c::event_run" ref="2b7f1dd7db9356c199b9db7cb9934b71" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#2b7f1dd7db9356c199b9db7cb9934b71">event_run</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run the first function in the event queue. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2c307bda82ec7f710fadd8606b25e15a"></a><!-- doxytag: member="front_panel/main.c::main_update_display" ref="2c307bda82ec7f710fadd8606b25e15a" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#2c307bda82ec7f710fadd8606b25e15a">main_update_display</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the flag that the display should be updated. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f227e695e9a635cfb68434663e8f5edb"></a><!-- doxytag: member="front_panel/main.c::shutdown_device" ref="f227e695e9a635cfb68434663e8f5edb" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f227e695e9a635cfb68434663e8f5edb">shutdown_device</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a message to the motherboard that the openASC box should be shut off. Will deactivate the power supply relay. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="79c949b6a0edc880ea71fe05b28967ab"></a><!-- doxytag: member="front_panel/main.c::set_tx_ant_leds" ref="79c949b6a0edc880ea71fe05b28967ab" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#79c949b6a0edc880ea71fe05b28967ab">set_tx_ant_leds</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the TX antenna leds according to the status of status.selected_ant. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#fd9ab4725abe99a112bd35bbba063389">set_knob_function</a> (unsigned char function)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the rotary knob function.  <a href="#fd9ab4725abe99a112bd35bbba063389"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f2a186dd8c8b709c034fdc89befd9486"></a><!-- doxytag: member="front_panel/main.c::main_save_settings" ref="f2a186dd8c8b709c034fdc89befd9486" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f2a186dd8c8b709c034fdc89befd9486">main_save_settings</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save runtime settings etc to the EEPROM. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8e470dddd9c49dad31fe155e6eff9fbc"></a><!-- doxytag: member="front_panel/main.c::load_settings" ref="8e470dddd9c49dad31fe155e6eff9fbc" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#8e470dddd9c49dad31fe155e6eff9fbc">load_settings</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load all settings from the EEPROM. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b07bb29d6209caf66d9510c77909473f"></a><!-- doxytag: member="front_panel/main.c::main_update_ptt_status" ref="b07bb29d6209caf66d9510c77909473f" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#b07bb29d6209caf66d9510c77909473f">main_update_ptt_status</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function which updates the status of the PTT This function will check various sources if it is for example OK to transmit or not. This function also updates the color of the PTT led. It does also set the <a class="el" href="front__panel_2main_8c.html#a8f632e39dd9c50749fa281cad87ddb0" title="Set the inhibit state This function is used to set the inhibit state, which is used...">main_set_inhibit_state()</a> status which is used at various places to make the sequencing etc safe. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#a8f632e39dd9c50749fa281cad87ddb0">main_set_inhibit_state</a> (enum <a class="el" href="front__panel_2main_8h.html#134c1d1af939afa5cdbca4c5cc75b944">enum_inhibit_state</a> state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the inhibit state This function is used to set the inhibit state, which is used to check at various places if it is safe for example to transmit, change band or change antennas.  <a href="#a8f632e39dd9c50749fa281cad87ddb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="front__panel_2main_8h.html#134c1d1af939afa5cdbca4c5cc75b944">enum_inhibit_state</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#33e0e0ca61cfd86443ceb19d5c7ce50b">main_get_inhibit_state</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the inhibit state This function is used to get the inhibit state, which is used to check at various places if it is safe for example to transmit, change band or change antennas.  <a href="#33e0e0ca61cfd86443ceb19d5c7ce50b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c03f611309a40dc9133d7164da7308e7"></a><!-- doxytag: member="front_panel/main.c::send_ping" ref="c03f611309a40dc9133d7164da7308e7" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#c03f611309a40dc9133d7164da7308e7">send_ping</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a ping message out on the bus. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#6487fa69328f91a45dbf78404d093c09">ISR</a> (SIG_OUTPUT_COMPARE0A)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#6265f456d8af4a996aefb1e29b8ce6a4">ISR</a> (SIG_OVERFLOW0)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45cdb6ee21b25826f1f46da72d13652f"></a><!-- doxytag: member="front_panel/main.c::settings" ref="45cdb6ee21b25826f1f46da72d13652f" args="" -->
<a class="el" href="structstruct__setting.html">struct_setting</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#45cdb6ee21b25826f1f46da72d13652f">settings</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Settings struct. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#71155d68bb0faa5b2976b5bec28ca0ca">radio_rx_data_counter</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter to keep track of when a character for the CAT was last received.  <a href="#71155d68bb0faa5b2976b5bec28ca0ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f9cecdd922128d66e61541bac7dd6a56"></a><!-- doxytag: member="front_panel/main.c::counter_compare0" ref="f9cecdd922128d66e61541bac7dd6a56" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#f9cecdd922128d66e61541bac7dd6a56">counter_compare0</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which counts up each time a compare0 interrupt has occured. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="74878c125411662a50fddaae20fef5fc"></a><!-- doxytag: member="front_panel/main.c::counter_sync" ref="74878c125411662a50fddaae20fef5fc" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#74878c125411662a50fddaae20fef5fc">counter_sync</a> = 32000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which is used to keep track of when we last received a sync message from the bus. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b459d9899a5a57fee757bdf768ae0f1d"></a><!-- doxytag: member="front_panel/main.c::counter_poll_buttons" ref="b459d9899a5a57fee757bdf768ae0f1d" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#b459d9899a5a57fee757bdf768ae0f1d">counter_poll_buttons</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of when we should poll the buttons. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce5f1d51457b79a08ce23ccc1cc79850"></a><!-- doxytag: member="front_panel/main.c::counter_poll_ext_devices" ref="ce5f1d51457b79a08ce23ccc1cc79850" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#ce5f1d51457b79a08ce23ccc1cc79850">counter_poll_ext_devices</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of when we should poll the external inputs. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cba472ca1b146ad135cd6dd5c374ed07"></a><!-- doxytag: member="front_panel/main.c::counter_screensaver_timeout" ref="cba472ca1b146ad135cd6dd5c374ed07" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#cba472ca1b146ad135cd6dd5c374ed07">counter_screensaver_timeout</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of the screensaver timeout. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="358c5643835429082b4aeea9c0365896"></a><!-- doxytag: member="front_panel/main.c::counter_ping_interval" ref="358c5643835429082b4aeea9c0365896" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#358c5643835429082b4aeea9c0365896">counter_ping_interval</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of when we should send out a ping to the communication bus. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9bc13a5444bb062f5af4c85eecf43f7f"></a><!-- doxytag: member="front_panel/main.c::counter_ms" ref="9bc13a5444bb062f5af4c85eecf43f7f" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#9bc13a5444bb062f5af4c85eecf43f7f">counter_ms</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which counts up each millisecond. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bfb33efba7c4a6e1bf5640e51f3bf1ee"></a><!-- doxytag: member="front_panel/main.c::counter_poll_rotary_encoder" ref="bfb33efba7c4a6e1bf5640e51f3bf1ee" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#bfb33efba7c4a6e1bf5640e51f3bf1ee">counter_poll_rotary_encoder</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track when we should poll the rotary encoder. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bfc70d8e59d7b1062ba894f0265ca5e3"></a><!-- doxytag: member="front_panel/main.c::counter_poll_radio" ref="bfc70d8e59d7b1062ba894f0265ca5e3" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#bfc70d8e59d7b1062ba894f0265ca5e3">counter_poll_radio</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of when we should poll the radio. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2e2286fc2770ff02888b87d6196416f3"></a><!-- doxytag: member="front_panel/main.c::counter_last_pulse_event" ref="2e2286fc2770ff02888b87d6196416f3" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#2e2286fc2770ff02888b87d6196416f3">counter_last_pulse_event</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counter which keeps track of when the last pulse event did occur. This is used to sense if we should change rx antennas. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1c6f4d9e23495dc8b553c9466064676f"></a><!-- doxytag: member="front_panel/main.c::counter_event_timer" ref="1c6f4d9e23495dc8b553c9466064676f" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#1c6f4d9e23495dc8b553c9466064676f">counter_event_timer</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">After the counter reaches half of it's limit we remove that number from it by calling the function <a class="el" href="event__queue_8c.html#d7ae30db0c54e95fe9ebbd3423e5c9bb" title="Removes a certain amount of numbers from the time_target.">event_queue_wrap()</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e659bfe570f8e58593672bc9a8d22a7"></a><!-- doxytag: member="front_panel/main.c::device_count" ref="4e659bfe570f8e58593672bc9a8d22a7" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#4e659bfe570f8e58593672bc9a8d22a7">device_count</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of devices on the bus. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fad4a528127d6ffd202af4be4da8a803"></a><!-- doxytag: member="front_panel/main.c::main_flags" ref="fad4a528127d6ffd202af4be4da8a803" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#fad4a528127d6ffd202af4be4da8a803">main_flags</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Different flags, description is found in main.h. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aeac8023fdbbfe15ef041910c44bc48f"></a><!-- doxytag: member="front_panel/main.c::ping_message" ref="aeac8023fdbbfe15ef041910c44bc48f" args="[3]" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#aeac8023fdbbfe15ef041910c44bc48f">ping_message</a> [3]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ping message of the openASC device. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0e96ec0b2f381b9e6d75d1ccee5850be"></a><!-- doxytag: member="front_panel/main.c::device_started" ref="0e96ec0b2f381b9e6d75d1ccee5850be" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="front__panel_2main_8c.html#0e96ec0b2f381b9e6d75d1ccee5850be">device_started</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Variable to check if the device has actually gone through all init steps. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Main file of the front panel. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Mikael Larsmark, SM2WMV </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2010-01-25 <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include "<a class="code" href="front__panel_2main_8c.html" title="Main file of the front panel.">front_panel/main.c</a>"</span> 
</pre></div> </dd></dl>

<p>Definition in file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f496e941a90c0dab928b545c26d30dcc"></a><!-- doxytag: member="main.c::event_add_message" ref="f496e941a90c0dab928b545c26d30dcc" args="(void(*func), unsigned int offset, unsigned char id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_add_message           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a message to the event queue which will be run at the correct time <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>A function pointer to the function we want to run </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>the time in ms when we want our function to be run </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>Which type of event this is </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00115">115</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8c-source.html#l00092">counter_event_timer</a>, <a class="el" href="event__queue_8c-source.html#l00085">event_in_queue()</a>, and <a class="el" href="event__queue_8c-source.html#l00043">event_queue_add()</a>.</p>

<p>Referenced by <a class="el" href="display_8c-source.html#l00074">display_update_screensaver()</a>, <a class="el" href="event__handler_8c-source.html#l00091">event_internal_comm_parse_message()</a>, <a class="el" href="sequencer_8c-source.html#l00133">sequencer_computer_rts_activated()</a>, <a class="el" href="sequencer_8c-source.html#l00166">sequencer_computer_rts_deactivated()</a>, <a class="el" href="sequencer_8c-source.html#l00068">sequencer_footsw_pressed()</a>, and <a class="el" href="sequencer_8c-source.html#l00100">sequencer_footsw_released()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f3d6009270cd4a03b5dda580d73bed64"></a><!-- doxytag: member="main.c::ext_key_get_assignment" ref="f3d6009270cd4a03b5dda580d73bed64" args="(unsigned char index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char ext_key_get_assignment           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the key assignment index <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>The index of which task we wish to check </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The current task index, can be found in <a class="el" href="event__handler_8h.html" title="Event handler of various things.">event_handler.h</a> </dd></dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00131">131</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00207">struct_setting::ext_key_assignments</a>.</p>

<p>Referenced by <a class="el" href="event__handler_8c-source.html#l00149">event_handler_process_ps2()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f857f2bd1ba4cb025156687b9cf13b18"></a><!-- doxytag: member="main.c::ext_key_set_assignment" ref="f857f2bd1ba4cb025156687b9cf13b18" args="(unsigned char index, unsigned char func)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ext_key_set_assignment           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the key assignment task <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>The index of which task we wish to set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>The function we wish to assign to the assignment index </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00138">138</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00207">struct_setting::ext_key_assignments</a>.</p>

</div>
</div><p>
<a class="anchor" name="6265f456d8af4a996aefb1e29b8ce6a4"></a><!-- doxytag: member="main.c::ISR" ref="6265f456d8af4a996aefb1e29b8ce6a4" args="(SIG_OVERFLOW0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR           </td>
          <td>(</td>
          <td class="paramtype">SIG_OVERFLOW0&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Output overflow 0 interrupt 
<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00748">748</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="6487fa69328f91a45dbf78404d093c09"></a><!-- doxytag: member="main.c::ISR" ref="6487fa69328f91a45dbf78404d093c09" args="(SIG_OUTPUT_COMPARE0A)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR           </td>
          <td>(</td>
          <td class="paramtype">SIG_OUTPUT_COMPARE0A&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Output compare 0 interrupt - "called" with 1ms intervals 
<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00620">620</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="antenna__ctrl_8c-source.html#l00306">antenna_ctrl_get_rotatable()</a>, <a class="el" href="antenna__ctrl_8c-source.html#l00430">antenna_ctrl_get_rotator_flags()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00282">struct_runtime_settings::band_change_mode</a>, <a class="el" href="front__panel_2main_8h-source.html#l00070">BAND_CHANGE_MODE_AUTO</a>, <a class="el" href="bus_8c-source.html#l00196">bus_is_master()</a>, <a class="el" href="bus__ping_8c-source.html#l00057">bus_ping_tick()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00092">counter_event_timer</a>, <a class="el" href="front__panel_2main_8c-source.html#l00089">counter_last_pulse_event</a>, <a class="el" href="front__panel_2main_8c-source.html#l00083">counter_ms</a>, <a class="el" href="driver__unit_2main_8c-source.html#l00051">counter_ping_interval</a>, <a class="el" href="front__panel_2main_8c-source.html#l00075">counter_poll_buttons</a>, <a class="el" href="front__panel_2main_8c-source.html#l00077">counter_poll_ext_devices</a>, <a class="el" href="front__panel_2main_8c-source.html#l00087">counter_poll_radio</a>, <a class="el" href="front__panel_2main_8c-source.html#l00085">counter_poll_rotary_encoder</a>, <a class="el" href="front__panel_2main_8c-source.html#l00079">counter_screensaver_timeout</a>, <a class="el" href="driver__unit_2main_8c-source.html#l00049">counter_sync</a>, <a class="el" href="front__panel_2main_8c-source.html#l00104">device_started</a>, <a class="el" href="event__queue_8c-source.html#l00085">event_in_queue()</a>, <a class="el" href="event__queue_8c-source.html#l00078">event_queue_get()</a>, <a class="el" href="event__queue_8c-source.html#l00069">event_queue_wrap()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00093">FLAG_BLINK_BAND_LED</a>, <a class="el" href="front__panel_2main_8h-source.html#l00089">FLAG_CHANGE_RX_ANT</a>, <a class="el" href="front__panel_2main_8h-source.html#l00097">FLAG_CHANGE_SUBMENU</a>, <a class="el" href="front__panel_2main_8h-source.html#l00087">FLAG_LAST_ANTENNA_BLINK</a>, <a class="el" href="antenna__ctrl_8h-source.html#l00028">FLAG_NO_ROTATION</a>, <a class="el" href="front__panel_2main_8h-source.html#l00075">FLAG_POLL_BUTTONS</a>, <a class="el" href="front__panel_2main_8h-source.html#l00077">FLAG_POLL_EXT_DEVICES</a>, <a class="el" href="front__panel_2main_8h-source.html#l00083">FLAG_POLL_PULSE_SENSOR</a>, <a class="el" href="front__panel_2main_8h-source.html#l00095">FLAG_POLL_RADIO</a>, <a class="el" href="front__panel_2main_8h-source.html#l00091">FLAG_PROCESS_RX_ANT_CHANGE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00099">FLAG_PROCESS_SUBMENU_CHANGE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00079">FLAG_RUN_EVENT_QUEUE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00149">FUNC_STATUS_SELECT_ANT_ROTATE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00248">struct_status::function_status</a>, <a class="el" href="internal__comm_8c-source.html#l00280">internal_comm_1ms_timer()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00102">INTERVAL_POLL_BUTTONS</a>, <a class="el" href="front__panel_2main_8h-source.html#l00108">INTERVAL_POLL_EXT_DEVICES</a>, <a class="el" href="front__panel_2main_8h-source.html#l00105">INTERVAL_POLL_ROTARY_ENCODER</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00076">led_set_rotation_active()</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00086">led_set_tx_ant()</a>, <a class="el" href="front__panel_2led__control_8h-source.html#l00041">LED_STATE_OFF</a>, <a class="el" href="front__panel_2led__control_8h-source.html#l00039">LED_STATE_ON</a>, <a class="el" href="front__panel_2main_8c-source.html#l00098">main_flags</a>, <a class="el" href="powermeter_8c-source.html#l00110">powermeter_1ms_tick()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00209">struct_setting::powermeter_address</a>, <a class="el" href="front__panel_2main_8h-source.html#l00172">PULSE_SENSOR_RX_ANT_CHANGE_LIMIT</a>, <a class="el" href="front__panel_2main_8h-source.html#l00175">PULSE_SENSOR_SUBMENU_CHANGE_LIMIT</a>, <a class="el" href="radio__interface_8c-source.html#l00415">radio_communicaton_timeout()</a>, <a class="el" href="radio__interface_8c-source.html#l00404">radio_interface_get_poll_interval()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00069">radio_rx_data_counter</a>, <a class="el" href="front__panel_2main_8h-source.html#l00058">RADIO_RX_DATA_TIMEOUT</a>, <a class="el" href="front__panel_2main_8h-source.html#l00293">runtime_settings</a>, and <a class="el" href="front__panel_2main_8h-source.html#l00290">status</a>.</p>

</div>
</div><p>
<a class="anchor" name="840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="main.c::main" ref="840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Main function of the front panel 
<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00293">293</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00276">struct_runtime_settings::amplifier_ptt_output</a>, <a class="el" href="antenna__ctrl_8c-source.html#l00294">antenna_ctrl_change_rx_ant()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00282">struct_runtime_settings::band_change_mode</a>, <a class="el" href="front__panel_2main_8h-source.html#l00070">BAND_CHANGE_MODE_AUTO</a>, <a class="el" href="front__panel_2main_8h-source.html#l00068">BAND_CHANGE_MODE_MANUAL</a>, <a class="el" href="band__ctrl_8c-source.html#l00145">band_ctrl_change_band()</a>, <a class="el" href="band__ctrl_8c-source.html#l00139">band_ctrl_change_band_portion()</a>, <a class="el" href="band__ctrl_8c-source.html#l00213">band_ctrl_load_band_limits()</a>, <a class="el" href="bus_8c-source.html#l00291">bus_add_tx_message()</a>, <a class="el" href="bus_8c-source.html#l00114">bus_allowed_to_send()</a>, <a class="el" href="bus_8h-source.html#l00137">BUS_BROADCAST_ADDR</a>, <a class="el" href="bus_8c-source.html#l00266">bus_check_tx_status()</a>, <a class="el" href="bus__commands_8h-source.html#l00035">BUS_CMD_SYNC</a>, <a class="el" href="bus_8h-source.html#l00158">BUS_DEVICE_STATUS_MESSAGE_INTERVAL</a>, <a class="el" href="bus_8c-source.html#l00123">bus_get_address()</a>, <a class="el" href="bus_8c-source.html#l00078">bus_init()</a>, <a class="el" href="bus_8c-source.html#l00196">bus_is_master()</a>, <a class="el" href="bus_8h-source.html#l00163">BUS_MASTER_SYNC_INTERVAL</a>, <a class="el" href="bus_8c-source.html#l00108">bus_set_address()</a>, <a class="el" href="bus_8c-source.html#l00206">bus_set_is_master()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00225">struct_status::buttons_current_state</a>, <a class="el" href="front__panel_2main_8h-source.html#l00227">struct_status::buttons_last_state</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00691">computer_interface_activate_setup()</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00709">computer_interface_deactivate_setup()</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00235">computer_interface_init()</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00686">computer_interface_is_active()</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00304">computer_interface_parse_data()</a>, <a class="el" href="front__panel_2computer__interface_8c-source.html#l00247">computer_interface_send_data()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00089">counter_last_pulse_event</a>, <a class="el" href="driver__unit_2main_8c-source.html#l00051">counter_ping_interval</a>, <a class="el" href="driver__unit_2main_8c-source.html#l00049">counter_sync</a>, <a class="el" href="front__panel_2main_8h-source.html#l00240">struct_status::current_band_portion</a>, <a class="el" href="front__panel_2main_8c-source.html#l00095">device_count</a>, <a class="el" href="bus_8h-source.html#l00140">DEVICE_ID_MAINBOX</a>, <a class="el" href="front__panel_2main_8c-source.html#l00104">device_started</a>, <a class="el" href="display_8c-source.html#l00097">display_set_backlight()</a>, <a class="el" href="display_8c-source.html#l00059">display_setup_view()</a>, <a class="el" href="ds1307_8c-source.html#l00041">ds1307_init()</a>, <a class="el" href="eeprom_8c-source.html#l00127">eeprom_create_table()</a>, <a class="el" href="eeprom_8c-source.html#l00045">eeprom_read_startup_byte()</a>, <a class="el" href="eeprom_8c-source.html#l00065">eeprom_read_table()</a>, <a class="el" href="eeprom_8c-source.html#l00177">eeprom_save_runtime_settings()</a>, <a class="el" href="eeprom_8c-source.html#l00051">eeprom_write_startup_byte()</a>, <a class="el" href="event__handler_8c-source.html#l00872">event_bus_parse_message()</a>, <a class="el" href="event__handler_8c-source.html#l00091">event_internal_comm_parse_message()</a>, <a class="el" href="event__handler_8c-source.html#l00323">event_poll_buttons()</a>, <a class="el" href="event__handler_8c-source.html#l00441">event_poll_ext_device()</a>, <a class="el" href="event__handler_8c-source.html#l00263">event_pulse_sensor_down()</a>, <a class="el" href="event__handler_8c-source.html#l00222">event_pulse_sensor_up()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00143">event_run()</a>, <a class="el" href="event__handler_8c-source.html#l00304">event_update_display()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00229">struct_status::ext_devices_current_state</a>, <a class="el" href="front__panel_2main_8h-source.html#l00231">struct_status::ext_devices_last_state</a>, <a class="el" href="front__panel_2main_8h-source.html#l00093">FLAG_BLINK_BAND_LED</a>, <a class="el" href="front__panel_2main_8h-source.html#l00089">FLAG_CHANGE_RX_ANT</a>, <a class="el" href="front__panel_2main_8h-source.html#l00097">FLAG_CHANGE_SUBMENU</a>, <a class="el" href="front__panel_2main_8h-source.html#l00085">FLAG_LAST_BAND_BLINK</a>, <a class="el" href="front__panel_2main_8h-source.html#l00075">FLAG_POLL_BUTTONS</a>, <a class="el" href="front__panel_2main_8h-source.html#l00077">FLAG_POLL_EXT_DEVICES</a>, <a class="el" href="front__panel_2main_8h-source.html#l00083">FLAG_POLL_PULSE_SENSOR</a>, <a class="el" href="front__panel_2main_8h-source.html#l00095">FLAG_POLL_RADIO</a>, <a class="el" href="front__panel_2main_8h-source.html#l00091">FLAG_PROCESS_RX_ANT_CHANGE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00099">FLAG_PROCESS_SUBMENU_CHANGE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00079">FLAG_RUN_EVENT_QUEUE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00081">FLAG_UPDATE_DISPLAY</a>, <a class="el" href="ks0108_8c-source.html#l00301">glcd_init()</a>, <a class="el" href="i2c_8c-source.html#l00055">i2c_init()</a>, <a class="el" href="interrupt__handler_8c-source.html#l00108">ih_poll_ext_devices()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00191">INHIBIT_NOT_OK_TO_SEND</a>, <a class="el" href="front__panel_2main_8h-source.html#l00280">struct_runtime_settings::inhibit_state</a>, <a class="el" href="front__panel_2init_8c-source.html#l00105">init_backlight()</a>, <a class="el" href="driver__unit_2init_8c-source.html#l00056">init_ports()</a>, <a class="el" href="driver__unit_2init_8c-source.html#l00035">init_timer_0()</a>, <a class="el" href="driver__unit_2init_8c-source.html#l00045">init_timer_2()</a>, <a class="el" href="front__panel_2init_8c-source.html#l00041">init_usart()</a>, <a class="el" href="front__panel_2init_8c-source.html#l00033">init_usart_computer()</a>, <a class="el" href="internal__comm_8c-source.html#l00068">internal_comm_init()</a>, <a class="el" href="internal__comm_8c-source.html#l00091">internal_comm_poll_rx_queue()</a>, <a class="el" href="internal__comm_8c-source.html#l00105">internal_comm_poll_tx_queue()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00119">KNOB_FUNCTION_AUTO</a>, <a class="el" href="front__panel_2main_8h-source.html#l00274">struct_runtime_settings::lcd_backlight_value</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00225">led_set_all()</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00032">led_set_band()</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00040">led_set_band_none()</a>, <a class="el" href="front__panel_2led__control_8c-source.html#l00047">led_set_ptt()</a>, <a class="el" href="front__panel_2led__control_8h-source.html#l00041">LED_STATE_OFF</a>, <a class="el" href="front__panel_2led__control_8h-source.html#l00039">LED_STATE_ON</a>, <a class="el" href="front__panel_2led__control_8h-source.html#l00031">LED_STATE_PTT_INHIBIT</a>, <a class="el" href="front__panel_2main_8c-source.html#l00196">load_settings()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00098">main_flags</a>, <a class="el" href="front__panel_2main_8c-source.html#l00272">main_set_inhibit_state()</a>, <a class="el" href="menu_8c-source.html#l00143">menu_init()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00201">struct_setting::network_address</a>, <a class="el" href="front__panel_2main_8h-source.html#l00203">struct_setting::network_device_count</a>, <a class="el" href="front__panel_2main_8h-source.html#l00205">struct_setting::network_device_is_master</a>, <a class="el" href="front__panel_2main_8h-source.html#l00238">struct_status::new_band</a>, <a class="el" href="front__panel_2main_8h-source.html#l00242">struct_status::new_band_portion</a>, <a class="el" href="front__panel_2main_8c-source.html#l00101">ping_message</a>, <a class="el" href="front__panel_2main_8h-source.html#l00209">struct_setting::powermeter_address</a>, <a class="el" href="powermeter_8c-source.html#l00053">powermeter_init()</a>, <a class="el" href="powermeter_8c-source.html#l00093">powermeter_process_tasks()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00215">struct_setting::powermeter_update_rate_bargraph</a>, <a class="el" href="front__panel_2main_8h-source.html#l00213">struct_setting::powermeter_update_rate_text</a>, <a class="el" href="front__panel_2main_8h-source.html#l00211">struct_setting::powermeter_vswr_limit</a>, <a class="el" href="radio__interface_8c-source.html#l00180">radio_get_band_portion()</a>, <a class="el" href="radio__interface_8c-source.html#l00120">radio_get_current_band()</a>, <a class="el" href="radio__interface_8h-source.html#l00049">RADIO_INTERFACE_BCD</a>, <a class="el" href="radio__interface_8c-source.html#l00374">radio_interface_get_interface()</a>, <a class="el" href="radio__interface_8h-source.html#l00043">RADIO_INTERFACE_MANUAL</a>, <a class="el" href="radio__interface_8c-source.html#l00205">radio_poll_status()</a>, <a class="el" href="radio__interface_8c-source.html#l00104">radio_process_tasks()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00278">struct_runtime_settings::radio_ptt_output</a>, <a class="el" href="rotary__encoder_8c-source.html#l00044">rotary_encoder_poll()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00262">struct_status::rotator_step_resolution</a>, <a class="el" href="front__panel_2main_8h-source.html#l00293">runtime_settings</a>, <a class="el" href="bus__rx__queue_8c-source.html#l00112">rx_queue_is_empty()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00236">struct_status::selected_band</a>, <a class="el" href="front__panel_2main_8h-source.html#l00256">struct_status::selected_rx_antenna</a>, <a class="el" href="front__panel_2main_8c-source.html#l00285">send_ping()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00178">set_knob_function()</a>, <a class="el" href="front__panel_2main_8h-source.html#l00290">status</a>, <a class="el" href="front__panel_2main_8h-source.html#l00268">struct_status::sub_menu_antenna_index</a>, <a class="el" href="sub__menu_8c-source.html#l00088">sub_menu_get_current_pos()</a>, <a class="el" href="sub__menu_8c-source.html#l00144">sub_menu_send_data_to_bus()</a>, <a class="el" href="bus__tx__queue_8c-source.html#l00104">tx_queue_dropall()</a>, <a class="el" href="bus__tx__queue_8c-source.html#l00112">tx_queue_is_empty()</a>, and <a class="el" href="front__panel_2usart_8c-source.html#l00048">usart0_transmit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="33e0e0ca61cfd86443ceb19d5c7ce50b"></a><!-- doxytag: member="main.c::main_get_inhibit_state" ref="33e0e0ca61cfd86443ceb19d5c7ce50b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="front__panel_2main_8h.html#134c1d1af939afa5cdbca4c5cc75b944">enum_inhibit_state</a> main_get_inhibit_state           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the inhibit state This function is used to get the inhibit state, which is used to check at various places if it is safe for example to transmit, change band or change antennas. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The current inhibit status </dd></dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00280">280</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00280">struct_runtime_settings::inhibit_state</a>, and <a class="el" href="front__panel_2main_8h-source.html#l00293">runtime_settings</a>.</p>

<p>Referenced by <a class="el" href="band__ctrl_8c-source.html#l00145">band_ctrl_change_band()</a>, <a class="el" href="event__handler_8c-source.html#l00263">event_pulse_sensor_down()</a>, <a class="el" href="event__handler_8c-source.html#l00222">event_pulse_sensor_up()</a>, <a class="el" href="event__handler_8c-source.html#l00452">event_tx_button1_pressed()</a>, <a class="el" href="event__handler_8c-source.html#l00520">event_tx_button2_pressed()</a>, <a class="el" href="event__handler_8c-source.html#l00587">event_tx_button3_pressed()</a>, <a class="el" href="event__handler_8c-source.html#l00655">event_tx_button4_pressed()</a>, <a class="el" href="radio__interface_8c-source.html#l00205">radio_poll_status()</a>, <a class="el" href="sequencer_8c-source.html#l00133">sequencer_computer_rts_activated()</a>, and <a class="el" href="sequencer_8c-source.html#l00068">sequencer_footsw_pressed()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a8f632e39dd9c50749fa281cad87ddb0"></a><!-- doxytag: member="main.c::main_set_inhibit_state" ref="a8f632e39dd9c50749fa281cad87ddb0" args="(enum enum_inhibit_state state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main_set_inhibit_state           </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="front__panel_2main_8h.html#134c1d1af939afa5cdbca4c5cc75b944">enum_inhibit_state</a>&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the inhibit state This function is used to set the inhibit state, which is used to check at various places if it is safe for example to transmit, change band or change antennas. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>The state we wish to set the inhibit status to </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00272">272</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00280">struct_runtime_settings::inhibit_state</a>, and <a class="el" href="front__panel_2main_8h-source.html#l00293">runtime_settings</a>.</p>

<p>Referenced by <a class="el" href="front__panel_2main_8c-source.html#l00293">main()</a>, and <a class="el" href="front__panel_2main_8c-source.html#l00222">main_update_ptt_status()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fd9ab4725abe99a112bd35bbba063389"></a><!-- doxytag: member="main.c::set_knob_function" ref="fd9ab4725abe99a112bd35bbba063389" args="(unsigned char function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_knob_function           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>function</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the rotary knob function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>function</em>&nbsp;</td><td>Which type of action should occur when the knob is turned </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00178">178</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>References <a class="el" href="front__panel_2main_8h-source.html#l00282">struct_runtime_settings::band_change_mode</a>, <a class="el" href="front__panel_2main_8h-source.html#l00068">BAND_CHANGE_MODE_MANUAL</a>, <a class="el" href="front__panel_2main_8h-source.html#l00258">struct_status::knob_function</a>, <a class="el" href="front__panel_2main_8h-source.html#l00119">KNOB_FUNCTION_AUTO</a>, <a class="el" href="front__panel_2main_8h-source.html#l00111">KNOB_FUNCTION_NONE</a>, <a class="el" href="front__panel_2main_8h-source.html#l00115">KNOB_FUNCTION_SELECT_BAND</a>, <a class="el" href="front__panel_2main_8h-source.html#l00293">runtime_settings</a>, and <a class="el" href="front__panel_2main_8h-source.html#l00290">status</a>.</p>

<p>Referenced by <a class="el" href="band__ctrl_8c-source.html#l00145">band_ctrl_change_band()</a>, <a class="el" href="event__handler_8c-source.html#l00323">event_poll_buttons()</a>, <a class="el" href="event__handler_8c-source.html#l00823">event_rotate_button_pressed()</a>, <a class="el" href="event__handler_8c-source.html#l00781">event_rxant_button_pressed()</a>, <a class="el" href="event__handler_8c-source.html#l00741">event_sub_button_pressed()</a>, <a class="el" href="front__panel_2main_8c-source.html#l00293">main()</a>, and <a class="el" href="menu_8c-source.html#l00173">menu_action()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="71155d68bb0faa5b2976b5bec28ca0ca"></a><!-- doxytag: member="main.c::radio_rx_data_counter" ref="71155d68bb0faa5b2976b5bec28ca0ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="radio__interface_8c.html#71155d68bb0faa5b2976b5bec28ca0ca">radio_rx_data_counter</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Counter to keep track of when a character for the CAT was last received. 
<p>
External variable of the radio rx data counter used for a timeout. 
<p>Definition at line <a class="el" href="front__panel_2main_8c-source.html#l00069">69</a> of file <a class="el" href="front__panel_2main_8c-source.html">main.c</a>.</p>

<p>Referenced by <a class="el" href="front__panel_2main_8c-source.html#l00620">ISR()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 19 20:56:57 2010 for uC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
