<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>uC: Internal communication routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Internal communication routines</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__comm_8c.html">internal_comm.c</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The internal communication routines. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__comm__commands_8h.html">internal_comm_commands.h</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The internal communication commands. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__comm__rx__queue_8c.html">internal_comm_rx_queue.c</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The internal communication RX QUEUE. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__comm__rx__queue_8h.html">internal_comm_rx_queue.h</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The internal communication RX QUEUE. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__comm__tx__queue_8c.html">internal_comm_tx_queue.c</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The internal communication TX QUEUE. <br></td></tr>

<p>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
When using these routines for the internal communication it's important to initialize the pointers for the transmit and recieve data before any of the other functions are used. This is done by using the void internal_comm_init(void (*func_ptr_rx)(<a class="el" href="structUC__MESSAGE.html">UC_MESSAGE</a>), void (*func_ptr_tx)(char)); where func_ptr_rx and func_ptr_rx should point the functions which take the argument of <a class="el" href="structUC__MESSAGE.html">UC_MESSAGE</a>.<p>
Doing it this way makes the routines adaptable do different hardware, you just change the routine for TX and RX of data.<p>
When a message has been recieved it will be added to the RX queue and by polling communication by using <a class="el" href="internal__comm_8h.html#64c4f318386e5cad700f6c5e08677c6f" title="Polls the RX queue in the internal communication and calls the function defined in...">internal_comm_poll_rx_queue(void)</a> if there is a message in the queue it will get sent to the routine which was specified in the initialization routine.<p>
You will also need to poll the <a class="el" href="internal__comm_8c.html#35f8e503f80c8e1188ad09c1c0dde6ec" title="Polls the TX queue in the internal communication and sends the data if there is a...">internal_comm_poll_tx_queue()</a> at x intervals so that messages are sent when the tx queue isn't empty. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 19 20:56:58 2010 for uC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
